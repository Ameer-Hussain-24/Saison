# 课程表UI优化需求文档

## 简介

当前课程表UI存在可用性问题，用户反馈"很难用，不好用，也不想用"。需要参考目标样式（浅色背景的清晰布局）重新设计课程表界面，提升用户体验和视觉效果。

## 术语表

- **GridTimetableView**: 网格课程表视图组件
- **CourseGridCard**: 课程卡片组件
- **PeriodHeaderColumn**: 节次标题列组件
- **TimeHeaderColumn**: 时间标题列组件
- **DayHeaderRow**: 星期标题行组件
- **Material 3**: Google的Material Design 3设计系统

## 需求

### 需求 1: 优化节次时间显示

**用户故事:** 作为学生用户，我希望能够清晰地看到每个节次的时间范围，以便快速了解课程安排

#### 验收标准

1. WHEN 用户查看课程表时，THE GridTimetableView SHALL 在左侧显示节次编号（如"第1节"）和对应的时间范围（如"08:00-08:45"）
2. THE 节次时间显示 SHALL 使用清晰的排版，节次编号和时间范围分行显示
3. THE 节次时间区域 SHALL 使用合适的背景色和边框，与课程网格区域形成视觉区分
4. THE 时间文字 SHALL 使用易读的字体大小（不小于12sp）
5. WHEN 当前时间处于某个节次时，THE 对应节次 SHALL 显示高亮状态

### 需求 2: 改进课程卡片视觉设计

**用户故事:** 作为学生用户，我希望课程卡片更加美观和易读，以便快速识别不同课程

#### 验收标准

1. THE CourseGridCard SHALL 使用圆角矩形设计，圆角半径为12dp
2. THE 课程卡片 SHALL 显示清晰的课程名称、地点和时间信息
3. THE 课程卡片 SHALL 使用柔和的背景色，确保文字可读性
4. THE 课程卡片 SHALL 在卡片内部使用合适的内边距（至少12dp）
5. WHEN 课程跨越多个节次时，THE 卡片高度 SHALL 自动调整以覆盖所有节次

### 需求 3: 优化星期标题行

**用户故事:** 作为学生用户，我希望星期标题清晰醒目，以便快速定位到具体日期

#### 验收标准

1. THE DayHeaderRow SHALL 显示星期名称（如"周一"）和对应日期（如"11/3"）
2. WHEN 当前日期为某一天时，THE 对应星期标题 SHALL 使用主题色高亮显示
3. THE 星期标题 SHALL 使用居中对齐
4. THE 星期标题区域 SHALL 使用与背景区分的颜色
5. THE 星期标题文字 SHALL 使用中等粗细字体（FontWeight.Medium）

### 需求 4: 改进整体布局和间距

**用户故事:** 作为学生用户，我希望课程表布局紧凑整洁，能在一屏内看到全周课程

#### 验收标准

1. THE GridTimetableView SHALL 使用紧凑的间距系统（2dp、4dp、8dp）
2. THE 课程卡片之间 SHALL 保持适当的间距（2dp）
3. THE 网格单元格 SHALL 使用浅色边框或分隔线，清晰划分时间段
4. THE 整体布局 SHALL 使用Material 3的表面颜色系统
5. THE 空白单元格 SHALL 显示淡色背景，与有课程的单元格形成对比
6. THE 所有星期列 SHALL 使用weight(1f)平分可用宽度，确保全周可见
7. THE 节次列宽度 SHALL 不超过60dp，为课程网格留出更多空间

### 需求 5: 增强交互反馈

**用户故事:** 作为学生用户，我希望点击课程时有明确的视觉反馈，以便确认操作

#### 验收标准

1. WHEN 用户点击课程卡片时，THE 卡片 SHALL 显示涟漪效果（ripple effect）
2. WHEN 用户长按空白单元格时，THE 单元格 SHALL 显示高亮状态
3. THE 课程卡片 SHALL 在按下时显示轻微的阴影变化
4. THE 可点击区域 SHALL 覆盖整个卡片区域
5. THE 交互动画 SHALL 流畅且响应迅速（不超过200ms）

### 需求 6: 优化颜色方案

**用户故事:** 作为学生用户，我希望课程表配色和谐美观，以便长时间使用不感到疲劳

#### 验收标准

1. THE 课程卡片颜色 SHALL 使用柔和的色调，避免过于鲜艳
2. THE 背景色 SHALL 使用浅色系（浅灰或白色），提供良好的对比度
3. THE 文字颜色 SHALL 确保在任何背景色上都有足够的对比度（WCAG AA标准）
4. THE 当前节次高亮色 SHALL 使用主题色的淡化版本
5. THE 整体配色 SHALL 遵循Material 3的颜色系统

### 需求 7: 支持周视图切换

**用户故事:** 作为学生用户，我希望能够方便地切换不同周次，以便查看未来或过去的课程安排

#### 验收标准

1. THE 顶部栏 SHALL 显示当前周次信息（如"第18周"）
2. WHEN 用户向左滑动时，THE System SHALL 切换到下一周的课程
3. WHEN 用户向右滑动时，THE System SHALL 切换到上一周的课程
4. WHEN 用户切换周次时，THE 课程表 SHALL 使用平滑的滑动动画过渡
5. THE 顶部栏 SHALL 提供快速返回当前周的按钮
6. WHEN 用户不在当前周时，THE 返回按钮 SHALL 显示为可见状态
7. THE 课程网格 SHALL NOT 支持水平滚动，所有星期列 SHALL 在一屏内可见

### 需求 8: 添加空状态提示

**用户故事:** 作为学生用户，当某个时间段没有课程时，我希望看到友好的提示信息

#### 验收标准

1. WHEN 某一天没有任何课程时，THE 对应列 SHALL 显示空白状态
2. WHEN 整周都没有课程时，THE 中央区域 SHALL 显示"本周无课程"提示
3. THE 空状态提示 SHALL 使用图标和文字组合
4. THE 空状态提示 SHALL 提供"添加课程"的快捷操作
5. THE 空白单元格 SHALL 在点击时提供添加课程的入口
